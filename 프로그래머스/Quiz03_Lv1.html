<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- 문제 : 신규아이디 추천 -->

  <script>

      // let new_id = "...!@BaT#*..y.abcdefghijklm";
      // let new_id = "z-+.^.";
      // let new_id = "=.=";
      // let new_id = "123_.def";
       let new_id = "abcdefghijklmn.p";

      
      //1단계
      new_id = new_id.toLowerCase();
      console.log(new_id);

      //2단계
      new_id = new_id.replace(/[^a-z0-9\-\.\_]/g,"");
      console.log(new_id);

      //3단계
      new_id = new_id.replace(/\.{2,}/g, ".")
      console.log(new_id);

      //4단계
      new_id = new_id.replace(/^\.|\.$/, "");
      console.log(new_id);

      //5단계
      if(new_id.length == 0) {
        new_id = 'a';
      }
      console.log(new_id);

      //6단계
      if(new_id.length >= 16) {
        new_id = new_id.slice(0, 15);
      }
      new_id = new_id.replace(/\.$/, "");
      console.log(new_id);

      //7단계
      if(new_id.length <= 2) {
        new_id += (new_id.charAt(new_id.length - 1)).repeat(3 - new_id.length);
      }
      
      console.log(new_id);



  </script>




</body>
</html>